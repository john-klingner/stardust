<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<arg name="gui" default="false"/>
	<arg name="r1" default="true"/>
	<arg name="r2" default="true"/>
	<arg name="ground_truth" default="false"/>
	<arg name="joy_type" default="xbox"/>

	<machine name="localhost" address="localhost" env-loader="/opt/ros/melodic/env.sh"/>

	<include file="$(find sd_gazebo)/launch/sd_gazebo.launch">
		<arg name="gui" value="$(arg gui)" />
		<arg name="ground_truth_tf_broadcaster" value="$(arg ground_truth)"/>
		<arg name="r1" value="$(arg r1)"/>
		<arg name="r2" value="$(arg r2)"/>
	</include>

	<include file="$(find sd_main)/launch/r1.launch" if="$(arg r1)">
		<arg name="sim" value="true" />
		<arg name="ground_truth" value="$(arg ground_truth)"/>
		<arg name="joy_type" value="$(arg joy_type)"/>
	</include>

	<include file="$(find sd_main)/launch/r2.launch" if="$(arg r2)">
		<arg name="sim" value="true" /> 
		<arg name="ground_truth" value="$(arg ground_truth)"/>
		<arg name="joy_type" value="$(arg joy_type)"/>
	</include>
</launch>