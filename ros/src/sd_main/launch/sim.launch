<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<arg name="gui" default="false"/>

	<machine name="localhost" address="localhost" env-loader="/opt/ros/kinetic/env.sh"/>

	<include file="$(find sd_gazebo)/launch/sd_gazebo.launch">
		<arg name="gui" value="$(arg gui)" />
		<arg name="ground_truth_tf_broadcaster" value="true"/>
	</include>

	<include file="$(find sd_main)/launch/r1.launch">
		<arg name="sim" value="true" />
	</include>

	<include file="$(find sd_main)/launch/r2.launch">
		<arg name="sim" value="true" /> 
	</include>
	
	<!-- Launch joy node at root namespace and relay it to one of the robots -->
	<node name="joy" pkg="joy" type="joy_node"/>
	<node name="joy_switcher" pkg="sd_teleop" type="joy_switcher_node" output="screen"/>
</launch>