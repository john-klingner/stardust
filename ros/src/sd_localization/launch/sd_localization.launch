<launch>
	<arg name="robot_ns" default=""/>
	<arg name="ground_truth" default="false"/>

	<rosparam file="$(find sd_localization)/config/$(arg robot_ns)_localization.yaml" command="load"/>
	
	<node pkg="robot_localization" type="ukf_localization_node" name="$(arg robot_ns)_localization" clear_params="true">
		<remap from="cmd_vel" to="mobile_base_controller/cmd_vel"/>
	</node>
	
	<node pkg="mrpt_localization" type="mrpt_localization_node" name="$(arg robot_ns)_mrpt_localization_node" output="screen" unless="$(arg ground_truth)">
		<param name="ini_file" value="$(find sd_localization)/config/pf-localization.ini"/> 
		<param name="odom_frame_id" value="$(arg robot_ns)/odom"/> 
		<param name="global_frame_id" value="/map"/> 
		<param name="base_frame_id" value="$(arg robot_ns)/base_link"/> 
		<param name="map_update_skip" value="20"/> 
		<param name="particlecloud_update_skip" value="1"/> 
		<param name="tf_prefix" value=""/> 
		<param name="debug" value="true"/>
		<param name="gui_mrpt" value="true"/> 
		<param name="sensor_sources" value="laser/scan_filtered"/>
		<remap from="particlecloud" to="particlecloud"/>
	</node>
</launch>