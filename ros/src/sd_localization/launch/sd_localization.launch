<launch>
	<arg name="robot_ns" default=""/>
	<arg name="ground_truth" default="false"/>

	<rosparam file="$(find sd_localization)/config/$(arg robot_ns)_localization.yaml" command="load"/>
	
	<node pkg="robot_localization" type="ukf_localization_node" name="$(arg robot_ns)_localization" clear_params="true">
		<remap from="cmd_vel" to="mobile_base_controller/cmd_vel"/>
	</node>
	
	<node pkg="mrpt_localization" type="mrpt_localization_node" name="$(arg robot_ns)_mrpt_localization_node" output="screen" unless="$(arg ground_truth)">
		<param name="ini_file" value="$(find sd_localization)/config/pf-localization.ini"/>
		<remap from="map" to="map_attitude"/>
	</node>

	<node pkg="imu_filter_madgwick" type="imu_filter_node" name="$(arg robot_ns)_imu_filter_madgwick"/>
</launch>